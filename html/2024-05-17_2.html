<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>todo 리스트 프로젝트</title>

  <link rel="stylesheet" href="/css/2024-05-17.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div id="wrap">
    <header>
      <h1>Todo</h1>
      <label><input type="text"></label>
    </header>
    <section>
    </section>
  </div>

  <script>
    // input박스에서 enter를 누르면 이벤트가 실행
    let input = document.querySelector("input")
    let section = document.querySelector("section")

    // 입력박스에 키보드 이벤트
    input.addEventListener("keyup", function(e) {
      
      //enter를 누른 것을 구별
      if (e.keyCode == 13 && input.value != "") { // enter를 눌렀고, 공백이 아니면 실행
        console.log("엔터를 눌렀습니다.")

        // input에 입력된 값을 가져오기
        let inputValue = input.value;
        console.log("keyup :", inputValue)

        //todo 리스트에 들어갈 할 일 만들기
        let box = document.createElement("div")
        box.classList.add("todo-list")

        let p1 = document.createElement("p")
        p1.classList.add("like")

        let i = document.createElement("i")
        i.classList.add('material-icons')
        p1.appendChild(i)
        i.textContent = 'favorite_border'

        // 하트 이벤트 걸기
        i.addEventListener('click', function() {
          if(i.textContent == 'favorite') {
            i.textContent = "favorite_border"
          }
          else {
            i.textContent = 'favorite'
          }
        })
        box.appendChild(p1)

        let p2 = document.createElement("p")
        p2.classList.add("content")
        p2.innerHTML = inputValue
        box.appendChild(p2)

        let managearea = document.createElement("div")
        managearea.classList.add("manage")
        
        // v 생성
        let i1 = document.createElement("i")
        i1.classList.add("material-icons") // 클래스 추가
        i1.classList.add("check") // 클래스 추가
        i1.textContent = "check"

        // v 클릭하면 이벤트 발생
        i1.addEventListener("click", function(e) {
          // 글씨 색이 변하고, 취소선이 그어져야 한다 = CSS 수정
          p2.style.color = "#D2CAC8" // 글씨 색 변경
          p2.style.textDecoration = 'line-through' // 취소선 긋기
          i1.style.visibility = 'hidden' // v를 사라지게 하기
          // i1.style.display = 'none' v를 사라지게 하기
        })

        // x 생성
        let i2 = document.createElement("i")
        i2.classList.add("material-icons") // 클래스 추가
        i2.classList.add("clear") // 클래스 추가
        i2.textContent = "clear"

        // x를 클릭하면 리스트를 삭제
        i2.addEventListener("click", function(e) {
          section.removeChild(box)
        })

        managearea.appendChild(i1) // v를 div에 추가
        managearea.appendChild(i2) // x를 div에 추가

        box.appendChild(managearea) // v,x를 담은 div를 부모에게 추가

        // 만든 할 일을 화면에 넣어주기
        section.appendChild(box)
        console.log(box)

        input.value = ""
      }
    })

    let button = document.querySelector(".material-icons")
  </script>
</body>
</html>